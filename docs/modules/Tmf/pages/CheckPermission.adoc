= CheckPermission

[#domain]
== Domain

This schema is part of Common

[#description]
== Description
The CheckPermission task entity verifies that the security principal in context can carry out the action. If permission is granted, 200 is returned, if denied, 403 is returned. If party role or user is present in input, these are used, otherwise the security principal is deduced from the HTTP Authorization header.


[#data_model]
== Data model

A JSON Schema corresponding to this data model can be found //[here].

THE DIAGRAM WILL BE IN HERE !!!

[#diagram]
== Diagram
image::Resource_CheckPermission.png[Diagram illustrating CheckPermission]


The data model is defined as shown below:


=== entitlement
description: Input: the action and function whose permission is being tested

$ref of: xref:v4.0@schemas:Tmf:Entitlement.adoc[]


=== partyRole
description: Input: The party role whose permission is being tested, this is preferable to user, since permissions can apply to party roles even when they are not logged into a software system, such as on an IVR, or in a voice call to a service rep

$ref of: xref:v4.0@schemas:Tmf:PartyRoleRef.adoc[]


=== user
description: Input: Information about the security principal whose permission is being tested. Ignored if partyRole is supplied

$ref of: xref:v4.0@schemas:Tmf:UserinfoRef.adoc[]


=== characteristic
description: Consider defining characteristic spec on Entitlement. Input: Additional information that might be needed for a particular entitlement. For example, if Action is GiveDiscount on Function: ProductOrderItem, a characteristic could be used to transmit the percentage discount being asked for.

type: array


=== entity
description: Input: A list of entities for which permission is being tested. For example, if Action is Update and Function is Customer, this could hold reference to specific customer to be updated. Or, if Action is Create and Function is ProductOffering, this could hold the entire entity, so that the permission could be checked against the line of business. Output: A list of entities for which permission is granted

type: array


[#all_of]
== All Of

This schema extends: xref:v4.0@schemas:Tmf:Entity.adoc[]
